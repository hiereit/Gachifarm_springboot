<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>마이페이지</title>
<script src="https://code.jquery.com/jquery-latest.js"></script>
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>



<style>
	#menu {
	    padding-left: 20px;
	}
	#menu label {
	    height: 30px;
	    background-color: #d1ecee;
	    width: 120px;	/*기존엔 75px*/
	    color: #0AC175;
	    font-size: 15px;
	    font-weight: bold;
	    line-height: 30px;
	    text-align: center;
	    float: left;
	    position: relative;
	    margin-left: 2px;
	    display:block;
	    margin-right: 20px;
	}
	#menu label:before {
	    content: "";
	    position: absolute;
	    /* left: -20px; */
	    width: 0;
	    height: 0;
	    /* border-top: 30px solid #d1ecee; */
	    /* border-left: 20px solid transparent; */
	    display:block;
	}
	#menu label:after {
	    content: "";
	    position: absolute;
	    /* right: -20px; */
	    width: 0;
	    height: 0;
	    /* border-bottom: 30px solid #d1ecee;
	    border-right: 20px solid transparent; */
	}
	#menu input:checked + label {
	    background-color: #0AC175;
	    color: white;
	}
	#menu input:checked + label:before {
	    border-top: 30px solid #0AC175;
	}
	
	#menu input:checked + label:after {
	    border-bottom: 30px solid #0AC175;
	}
	
	/* Hide radio buttons */
	#menu input[type=radio]{
	    opacity:0;
	    position:absolute;
	    left:-200%;
	}
	
	/* Hide all tab divs and keep them below the tab buttons */
	#menu > div {
	    display:none;
	    top:5em;
	    position:absolute;
	    max-width:100%;
	}
	
	/* Show the tab whose sibling radio button is checked */
	#menu input:checked + label + div{
	    display:block;
	}
	
	/* */
	body{

	}
	
	/* 개인정보 관련 css */
	 h3{
        margin: 0px;
      }
     #guideMention{
        font-size: 5px;
      }
     table{
        width: 100%;
        padding-left: 90px;
      }
      th {
	    text-align: left !important;
		color: #707070 !important;
      }
      td{
        padding: 10px;
      }
      #withdrawalBtn{
        background-color: white;
        border: 3px solid #0AC175;
        color: #0AC175;
        width: 200px;
        height: 40px;
        font-weight: bolder;
      }
      #submitBtn{
        background-color: #0AC175;
        color: white;
        border: none;
        width: 200px;
        height: 40px;
        font-weight: bolder;
      }
     /**/
</style>

<script>

	$(function(){
		var state = 1;
		
		$('#1').click(function(){
			history.pushState('state' + state, 'State' + state, '/user/mypage');
			state++;
			
		});
	});
	
	$(function(){
		var state = 2;
		$('#2').click(function(){
			history.pushState('state' + state, 'State' + state, '/user/mypage/myorders');
			state++;
		});
	});
	
	$(function(){
		var state = 3;
		
		$('#3').click(function(){
			history.pushState('state' + state, 'State' + state, '/user/mypage/myborders');
			state++;
		});
	});

	$(function(){
		var state = 4;
		$('#4').click(function(){
			history.pushState('state' + state, 'State' + state, '/user/mypage/mygroup/open');
			state++;
		});
	});
	
	$(function(){
		var state = 5;
		
		$('#5').click(function(){
			history.pushState('state' + state, 'State' + state, '/user/mypage/mygroup/orders');
			state++;
		});
	});
	
	
	//새로고침 시 radio 유지
	function test(){
	    var test = 'test';
	    try {
	        localStorage.setItem(test, test);
	        localStorage.removeItem(test);
	        return true;
	    } catch(e) {
	        return false;
	    }
	}
	 
	$(document).ready(function() {
	    if (test() === true) { // Available
	        $(function() {
	            $("input[type=radio]").on('click', function() {
	                let choice = $(this).attr('id'); // Get this id
	                localStorage.setItem("pollselected", choice); // Store
	            });
	            var storedValue = localStorage.getItem("pollselected");
	            if (storedValue !== null) {
	                console.log(storedValue) // yes or no
	                $("#" + storedValue).click(); // We could make this simpiler if we stored #yes or #no
	            }
	        });
	    } else {
	        alert('No local storage')
	    }
	});
	
</script>

</head>
<body>

<div id="menu" >
    <input class="r" id="1" name="r" type="radio" checked/>
    <label class="collapse" for="1">개인정보</label>
    <div>
	    <div th:replace="Account/rpUpdateSignupForm :: body"></div>
	</div>
	
    <input class="r" id="2" name="r" type="radio"/>
    <label class="collapse" for="2">주문목록</label>
    <div id="22" style="margin: 0 auto;">
	    <div th:replace="Account/rpMyOrders :: body"></div>
	</div>

    <input class="r" id="3" name="r" type="radio" />
    <label class="collapse" for="3">게시글관리</label>
    <div>
	    <div>3333333333333333333333</div>
	    <!-- <div th:replace="Account/rpUpdateSignupForm :: body"></div> -->
	</div>
    
    <input class="r" id="4" name="r" type="radio" />
    <label class="collapse" for="4">내가 연 공구</label>
    <div>
	    <div th:replace="Account/rpMyOpenGroup :: body"></div>
	</div>
	
	<input class="r" id="5" name="r" type="radio" />
    <label class="collapse" for="5">내가 참여한 공구</label>
    <div>
	    <div th:replace="Account/rpMyParticipateGroup :: body"></div>
	</div>
</div>

</body>
</html>